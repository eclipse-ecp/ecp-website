<html><head><title>EMF Built In Validation</title><style type="text/css">ol{margin:0;padding:0}p{margin:0}.c3{width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c0{height:11pt;direction:ltr}.c2{font-size:12pt;text-decoration:underline}.c1{direction:ltr}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24pt;color:#000000;font-size:24pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;color:#000000;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h5{padding-top:11pt;color:#000000;font-size:11pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;color:#000000;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}</style></head><body class="c3"><p class="c1"><span class="c2">EMF Built in Validation</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span>With the built in validation in emf it is possible to model the constraints of your model in the ecore file. While generating model code, validation code is also generated. The only aspects you have to adapt in the code are determining the condition when the validation shall fail, update attribute string, defining a meaningful message which explains the reason for the failing and insert the graphical object in the returning object so that also the live validation can be triggered on this attribute.</span></p><p class="c0"><span></span></p><p class="c1"><span>Step by Step description:</span></p><p class="c1"><span>In the following step by step description the bowling model is used as an example.</span></p><p class="c0"><span></span></p><p class="c1"><span>1. Validation constraints are modelled by EOperations. In order that the validation code is generated automatically the signature of the EOperation is important. For instance, if we want each player (in the bowling model) to have a name we define following EOperation:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- meaningful name</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-return value of type EBoolean</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-2 parameters of type EDiagnosticChain and EMap&lt;?,?&gt;</span></p><p class="c1"><img height="473" src="images/image00.png" width="426"></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span>2. Reload ecore model in the genmodel and generate model code. Following method will be generated in class PlayerImpl:</span></p><p class="c1"><img height="245" src="images/image02.png" width="800"></p><p class="c1"><span>3. To make this method work we have to adapt the aspects which are mentioned above:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. Determine condition when validation fails</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. Update path of validation attribute</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3. Update meaningful error message</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4. Insert graphical object in return object</span></p><p class="c1"><img height="382" src="images/image03.png" width="800"></p><p class="c0"><span></span></p><p class="c1"><span>4. This is how the live validation looks like:</span></p><p class="c1"><img height="359" src="images/image01.png" width="566"></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span>5. To trigger validation manually you have to right-click on one element of the project and click &ldquo;validate&rdquo;. The validation results are shown in the &ldquo;Validation View&rdquo;:</span></p><p class="c1"><img height="358" src="images/image04.png" width="661"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></body></html>